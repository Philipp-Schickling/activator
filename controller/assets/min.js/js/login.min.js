$(document).ready(function(){function a(a){$.ajax({type:"POST",url:"/action/loginvalidate",data:a,success:function(a){"noUser"==a?$(".wPassword").removeClass("hidden"):"incorrect"==a?$(".wPassword").removeClass("hidden"):"correct"==a&&(alert("loggin in......."),setTimeout(' window.location.href = "startseite"; ',400))}})}function b(b){$.ajax({type:"POST",url:"/action/registeruser",data:b,success:function(c){switch(c){case"userexists":r.removeClass("hidden");break;case"usercreated":a(b)}}})}var c=6,d=8,e=$("form[method=post]"),f=$(".button").eq(0),g=$(".button").eq(1),h=$(".wRegister"),i=$(".dataField"),j=$(".iUsername"),k=$(".iPassword"),l=$(".iRPassword"),m=($(".iDepartment"),$(".hint")),n=$(".mPassword"),o=$(".sPassword"),p=$(".mUsername"),q=$(".sUsername"),r=$(".eUsername"),s=$(".sRPassword"),t=($(".mRPassword"),$(".wRPassword"));e.on("submit",function(e){if(m.addClass("hidden"),i.removeClass("missing"),$caseLogin=f.hasClass("active"),$usernameTooShort=j.val().length<c,$passwordTooShort=k.val().length<d,$caseLogin&&$usernameTooShort|$passwordTooShort)e.preventDefault(),i.removeClass("missing"),m.addClass("hidden"),j.val()?j.val().length<c&&(j.addClass("missing"),q.removeClass("hidden")):(j.addClass("missing"),p.removeClass("hidden")),k.val()?k.val().length<d&&(k.addClass("missing"),o.removeClass("hidden")):(k.addClass("missing"),n.removeClass("hidden"));else if(f.hasClass("active")){e.preventDefault(),m.addClass("hidden");var h=$("form").serialize();a(h)}if($caseRegister=g.hasClass("active"),$usernameTooShort=j.val().length<c,$passwordTooShort=k.val().length<d,$rPasswordTooShort=l.val().length<d,$passwordsDontMatch=k.val()!=l.val(),$caseRegister&&$usernameTooShort|$passwordTooShort|$rPasswordTooShort|$passwordsDontMatch)e.preventDefault(),i.removeClass("missing"),m.addClass("hidden"),j.val().length<c&&(j.addClass("missing"),q.removeClass("hidden")),k.val().length<d?(k.addClass("missing"),s.removeClass("hidden")):l.val()!=k.val()&&(k.addClass("missing"),t.removeClass("hidden"));else if(g.hasClass("active")){e.preventDefault();var h=$("form").serialize();b(h)}}),f.on("click",function(){h.hasClass("show")&&(h.removeClass("show"),g.toggleClass("active"),f.toggleClass("active"))}),g.on("click",function(){h.hasClass("show")||(h.addClass("show"),g.toggleClass("active"),f.toggleClass("active"))})});